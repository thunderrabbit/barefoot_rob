<!doctype html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>aws &middot; Barefoot Rob</title>

    <meta name="description" content="keep expanding">

    <meta name="generator" content="Hugo 0.58.3" />
    <meta name="twitter:card" content="summary">
    <meta name="twitter:site" content="thunderrabbit" />
    <meta name="twitter:title" content="aws &middot; Barefoot Rob">
    <meta name="twitter:description" content="keep expanding">

    <meta property="og:type" content="article">
    <meta property="og:title" content="aws &middot; Barefoot Rob">
    <meta property="og:description" content="keep expanding">

    <link href='//fonts.googleapis.com/css?family=Source+Sans+Pro:400,700|Oxygen:400,700' rel='stylesheet' type='text/css'>
    <link rel="stylesheet" href="//cdnjs.cloudflare.com/ajax/libs/pure/0.6.0/pure-min.css">
    <link rel="stylesheet" href="//cdnjs.cloudflare.com/ajax/libs/pure/0.6.0/grids-responsive-min.css">

    <link rel="stylesheet" href='https://new.robnugen.com/css/all.min.css'>
    <link rel="stylesheet" href='https://new.robnugen.com/css/barefoot_rob.css'>
    <link href="//maxcdn.bootstrapcdn.com/font-awesome/4.3.0/css/font-awesome.min.css" rel="stylesheet">

    <link rel="alternate" type="application/rss+xml" title="Barefoot Rob" href='https://new.robnugen.com/index.xml' />
</head>
<body>


<div id="layout" class="pure-g">
    <div class="sidebar pure-u-1 pure-u-md-1-4">
    <div class="header">
        <hgroup>
            <h1 class="brand-title"><a href="https://new.robnugen.com/">Barefoot Rob</a></h1>
            <h2 class="brand-tagline"> keep expanding </h2>
        </hgroup>

        <nav class="nav">
            <ul class="nav-list">
                
                
                
                
                <li class="nav-item">
                    <a class="pure-button" href='/'>
                        <i class="fa"></i> home
                    </a>
                </li>
                <li class="nav-item">
                    <a class="pure-button" href='https://new.robnugen.com/journal'>
                        <i class="fa"></i> journal
                    </a>
                </li>
                <li class="nav-item">
                    <a class="pure-button" href='https://new.robnugen.com/blog'>
                        <i class="fa"></i> blog
                    </a>
                </li>
                
            </ul>
        </nav>
    </div>
</div>


    <div class="content pure-u-1 pure-u-md-3-4">
        <div>
            
            <div class="posts">
                
                <h1 class="content-subhead">22 Sep 2019, 22:09</h1>
                <section class="post">
                    <header class="post-header">

                        <a href="https://new.robnugen.com/journal/2019/09/22/late-work-uploading-files-to-aws-support/" class="post-title">late work uploading files to AWS support</a>

                        <p class="post-meta">
                            
                                By <strong class="post-author">Rob Nugen</strong>
                            
                            
                        </p>
                    </header>

                    <div class="post-description">
                        <ol>
<li><p>Login at <a href="https://admin.ab.redacted.example.com">https://admin.ab.redacted.example.com</a></p></li>

<li><p>See 502 Bad Gateway</p></li>

<li><p>In the request, change https to http</p></li>

<li><p>See 502 Bad Gateway</p></li>

<li><p>bypass ELB by placing this in local /etc/hosts file</p></li>
</ol>

<p>13.23.21.14  admin.ab.redacted.example.com</p>

<ol>
<li><p>reload the request with http OR https</p></li>

<li><p>the request works</p></li>
</ol>

<p>Those are redacted instructions that showed AWS support that something
seemed amiss with the elastic load balancer.</p>

<p>M helped me activate tcpdump and we captured output while recreating
the error in different capacities.</p>

<p>I have just uploaded the access.log file and tcpdump files and several
log files from ELB.  They are going to dig through them to try to
figure out what is happening.  So so glad to have the support!</p>

                    </div>
                </section>
                
                <h1 class="content-subhead">18 Apr 2019, 20:26</h1>
                <section class="post">
                    <header class="post-header">

                        <a href="https://new.robnugen.com/journal/2019/04/18/turns-out-i-am-not-eligible-for-aws-free-tier/" class="post-title">Turns out I am *not* eligible for AWS free tier</a>

                        <p class="post-meta">
                            
                                By <strong class="post-author">Rob Nugen</strong>
                            
                            
                        </p>
                    </header>

                    <div class="post-description">
                        

<h5 id="20-26-thursday-18-april-2019-jst">20:26 Thursday 18 April 2019 JST</h5>

<p>It turns out I am <em>not</em> eligible for AWS free tier..  Thank goodness
for their billing alarms.  It went off at $3 and I was like whhaaa??</p>

<p>It turns out free tier is only for new customers less than a year
old.  I have had my account for ages.. Why would their interface say
free tier next to anything while I am logged in?????</p>

                    </div>
                </section>
                
                <h1 class="content-subhead">12 Apr 2019, 14:10</h1>
                <section class="post">
                    <header class="post-header">

                        <a href="https://new.robnugen.com/journal/2019/04/12/urbit-~rabsef-linmyn/" class="post-title">urbit ~rabsef-linmyn</a>

                        <p class="post-meta">
                            
                                By <strong class="post-author">Rob Nugen</strong>
                            
                            
                        </p>
                    </header>

                    <div class="post-description">
                        

<h5 id="14-10-friday-12-april-2019-jst">14:10 Friday 12 April 2019 JST</h5>

<p>I got my urbit planet running the other day on my local machine.
After some playing around I determined that I should be able to run it
on AWS on a t2.micro which fits within their free tier.</p>

                    </div>
                </section>
                
                <h1 class="content-subhead">02 Mar 2018, 15:24</h1>
                <section class="post">
                    <header class="post-header">

                        <a href="https://new.robnugen.com/journal/2018/03/02/trying-to-get-ssl-working-on-cloudfront-not-solved/" class="post-title">trying to get SSL working on cloudfront (not solved)</a>

                        <p class="post-meta">
                            
                                By <strong class="post-author">Rob Nugen</strong>
                            
                            
                        </p>
                    </header>

                    <div class="post-description">
                        

<h2 id="15-24-friday-02-march-2018-jst">15:24 Friday 02 March 2018 JST</h2>

<p>We have an image server behind cloudfront.  Cloudfront can serve
everything via https when using its subdomain.  But using our own
domain with https isn&rsquo;t as easy as I would like.</p>

<p>Running Lets Encrypt on the server, I get an error like the https
request was not allowed.</p>

<p>So I created a certificate with AWS Certificate Manager and told
Cloudfront to use it, but I do not see how to tell the server to use
it.</p>

<p>Bah.</p>

                    </div>
                </section>
                
                <h1 class="content-subhead">20 Nov 2017, 15:55</h1>
                <section class="post">
                    <header class="post-header">

                        <a href="https://new.robnugen.com/journal/2017/11/20/chillin-in-tullys/" class="post-title">Chillin in Tullys</a>

                        <p class="post-meta">
                            
                                By <strong class="post-author">Rob Nugen</strong>
                            
                            
                        </p>
                    </header>

                    <div class="post-description">
                        

<h2 id="15-55-monday-20-november-2017-jst">15:55 Monday 20 November 2017 JST</h2>

<p>I&rsquo;m getting back into Ansible groove on AWS.  Thanks to Ansible for
making it relatively easy to set up AWS boxes.</p>

                    </div>
                </section>
                
                <h1 class="content-subhead">15 Nov 2017, 12:27</h1>
                <section class="post">
                    <header class="post-header">

                        <a href="https://new.robnugen.com/journal/2017/11/15/playing-with-aws-for-sbs.net/" class="post-title">playing with AWS for sbs.net</a>

                        <p class="post-meta">
                            
                                By <strong class="post-author">Rob Nugen</strong>
                            
                            
                        </p>
                    </header>

                    <div class="post-description">
                        

<h2 id="12-27-wednesday-15-november-2017-jst">12:27 Wednesday 15 November 2017 JST</h2>

<p>Not actually sbs.net, but yes actually AWS.  Using Ansible again,
thanks to Travis having suggested it to me.</p>

<p>Right now as I write this entry, <del>AWS</del> <ins>my wifi in this
cafe</ins> is being slow to realize that my
VPC is already created.  Not sure why, as it was fast a moment ago.</p>

<p>Yep it just timed out.</p>

<pre><code>The error was: ssl.SSLError: The read operation timed out
</code></pre>

<p>Previously, I was getting</p>

<pre><code>Invalid type for parameter AvailabilityZone, value: None
</code></pre>

<p>When actually I was sending no value at all.  Someone else reported
<a href="https://github.com/ansible/ansible/issues/31905">ec2_vpc_subnet subnet creation fails due to az parameter validation error</a>.
Thanks, OP!</p>

<p>Yay, now it works because I specified <code>az: &quot;&quot;</code></p>

<pre><code>- name: Create subnet
  ec2_vpc_subnet:
    vpc_id: &quot;{{ vpc.vpcs.0.id }}&quot;
    cidr: &quot;{{ vpc_subnet }}&quot;
    region: &quot;{{ ec2_region }}&quot;
    az: &quot;&quot;
    tags:
      Name: &quot;{{ vpc_subnet_name }}&quot;
</code></pre>

                    </div>
                </section>
                
                <h1 class="content-subhead">06 Feb 2016, 13:57</h1>
                <section class="post">
                    <header class="post-header">

                        <a href="https://new.robnugen.com/journal/2016/02/06/elastic-load-balancer-on-amazon-web-services/" class="post-title">Elastic Load Balancer on Amazon Web Services</a>

                        <p class="post-meta">
                            
                                By <strong class="post-author">Rob Nugen</strong>
                            
                            
                        </p>
                    </header>

                    <div class="post-description">
                        

<h2 id="13-57-saturday-06-february-2016-jst">13:57 Saturday 06 February 2016 JST</h2>

<p>Sweet!</p>

<p>Thanks to
<a href="https://acloud.guru/course/aws-certified-solutions-architect-associate/learn/ec2/load-balancers-health-checks">https://acloud.guru/course/aws-certified-solutions-architect-associate/learn/ec2/load-balancers-health-checks</a>
I have created a proof of concept set of web servers connected
by a load balancer which automatically scales depending on usage
requirements.</p>

<p><a href="//b.robnugen.com/journal/2016/elb_aws_2016-02-06_at_1.54.50_PM.png"><img src="//b.robnugen.com/journal/2016/thumbs/elb_aws_2016-02-06_at_1.54.50_PM.png" alt="elb aws 2016-02-06 at 1.54.50 PM" /></a></p>

<p>The terminated instances were automagically replaced with the running
instances.  :-)</p>

                    </div>
                </section>
                
                <h1 class="content-subhead">13 Jan 2016, 16:33</h1>
                <section class="post">
                    <header class="post-header">

                        <a href="https://new.robnugen.com/journal/2016/01/13/missed-the-point/" class="post-title">missed the point</a>

                        <p class="post-meta">
                            
                                By <strong class="post-author">Rob Nugen</strong>
                            
                            
                        </p>
                    </header>

                    <div class="post-description">
                        

<h2 id="16-33-wednesday-13-january-2016-jst">16:33 Wednesday 13 January 2016 JST</h2>

<p>Now, I&rsquo;m not 100% sure this is a bug, but I reported to AWS a few days
ago:</p>

<pre><code>S3 bug: cannot create two lifecycle rules that apply to whole S3 bucket
</code></pre>

<p>That&rsquo;s just the title; I spelled it out a bit in the body of the
message.</p>

<p>But today I got back a steaming pile of useless reply:</p>

<pre><code>Hello Rob,

This is ______ from the AWS Billing Department.

Thank you for contacting AWS Billing and Accounts support.  I
apologize for the issue you've been experiencing with S3.

Unfortunately, the complexity of your question is outside our
scope of knowledge here in Billing and Accounts ... blah blah
</code></pre>

<p>Okay so fine; I&rsquo;m not paying for support, so my ticket gets low
priority.  But I didn&rsquo;t ask a question.  I&rsquo;m trying to help out
Amazon.</p>

<p>If I remember, I will send them the identical message via an account
which has support as an option and see how they respond.</p>

                    </div>
                </section>
                
                <h1 class="content-subhead">11 Feb 2015, 00:00</h1>
                <section class="post">
                    <header class="post-header">

                        <a href="https://new.robnugen.com/journal/2015/02/11/juggling-data/" class="post-title">juggling data</a>

                        <p class="post-meta">
                            
                                By <strong class="post-author">Rob Nugen</strong>
                            
                            
                        </p>
                    </header>

                    <div class="post-description">
                        <p>##09:33 Thursday 12 February 2015 JST##</p>

<p>Yesterday I worked several hours trying to get my AWS instance to talk
to an RDS instance on a VPC.  I set &ldquo;Publically accessable&rdquo; to true,
set the Security group to (wide open/allow the AWS instance security
group), but I still couldn&rsquo;t connect.</p>

<p>My great idea now is to create an AMI based on the AWS instance, then
spin up a new instance of the AMI in the same VPC as the RDS.  I&rsquo;m 99%
sure that will solve the problem (for the major bulk of the data,
which doesn&rsquo;t change); then I just have to toss over a couple of
tables via PHPMyAdmin.</p>

<p>I hope that maintainer is making money; I&rsquo;ve used the shit out of
PHPMyAdmin and never paid a bit.</p>

                    </div>
                </section>
                
                <h1 class="content-subhead">10 Dec 2014, 00:00</h1>
                <section class="post">
                    <header class="post-header">

                        <a href="https://new.robnugen.com/journal/2014/12/10/moving-hakyll.robnugen.com-to-dreamhost/" class="post-title">Moving hakyll.robnugen.com to dreamhost</a>

                        <p class="post-meta">
                            
                                By <strong class="post-author">Rob Nugen</strong>
                            
                            
                        </p>
                    </header>

                    <div class="post-description">
                        <p>##13:36 Wednesday 10 December 2014 JST##</p>

<p>I eventually want to have a cloud server on which I have root access,
but right now, especially for this site, I don&rsquo;t need it.</p>

<p>On Dreamhost, I killed the DNS entry pointing hakyll.robnugen.com to
my EC2 instance, then asked Dreamhost to host hakyll.robnugen.com, but
the DNS doesn&rsquo;t seem to have updated yet.</p>

<pre><code>HI!

I had a custom DNS record pointing hakyll.robnugen.com to an IP on Amazon AWS server. I want to use Dreamhost instead of Amazon for the server, so I killed the custom DNS record, and asked Dreamhost to host hakyll.robnugen.com

On https://panel.dreamhost.com/index.cgi?tree=domain.manage
I see a record of hakyll.robnugen.com in my domain listing: &quot;Fully Hosted with PHP 5.4 User: hakyll&quot;

However, after the happy Dreamhost robot created the new user `hakyll` and the domain, I noted there was *NOT* a directory created on Horus at /home/hakyll/hakyll.robnugen.com

I created the directory by hand and populated it with data.

Unfortunately, https://hakyll.robnugen.com/ says there's no site there.

Do I need to tweak something? Do you need to tweak something?

Please let me know, or make the tweaks and enjoy a great day!

- Rob
</code></pre>

                    </div>
                </section>
                
            </div>
            
<div class="pagination">
  <nav role="pagination" class="post-list-pagination">
      
    <span class="post-list-pagination-item post-list-pagination-item-current">Page 1 of 2</span>
    
      <a href="/tags/aws/page/2/" class="post-list-pagination-item pure-button post-list-pagination-item-next">
        Older&nbsp;<i class="fa fa-angle-double-right"></i>
      </a>
    
  </nav>
</div>


            <div class="footer">
    <div class="pure-menu pure-menu-horizontal pure-menu-open">
        <ul>
            <li>Powered by <a class="hugo" href="https://gohugo.io/" target="_blank">hugo</a></li>
        </ul>
    </div>
</div>
<script src='https://new.robnugen.com/js/all.min.js'></script>

        </div>
    </div>
</div>

<script>
(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
})(window,document,'script','//www.google-analytics.com/analytics.js','ga');

ga('create', '', 'auto');
ga('send', 'pageview');

</script>

</body>
</html>
