<!doctype html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>wordpress &middot; Barefoot Rob</title>

    <meta name="description" content="keep expanding">

    <meta name="generator" content="Hugo 0.58.3" />
    <meta name="twitter:card" content="summary">
    <meta name="twitter:site" content="thunderrabbit" />
    <meta name="twitter:title" content="wordpress &middot; Barefoot Rob">
    <meta name="twitter:description" content="keep expanding">

    <meta property="og:type" content="article">
    <meta property="og:title" content="wordpress &middot; Barefoot Rob">
    <meta property="og:description" content="keep expanding">

    <link href='//fonts.googleapis.com/css?family=Source+Sans+Pro:400,700|Oxygen:400,700' rel='stylesheet' type='text/css'>
    <link rel="stylesheet" href="//cdnjs.cloudflare.com/ajax/libs/pure/0.6.0/pure-min.css">
    <link rel="stylesheet" href="//cdnjs.cloudflare.com/ajax/libs/pure/0.6.0/grids-responsive-min.css">

    <link rel="stylesheet" href='https://new.robnugen.com/css/all.min.css'>
    <link rel="stylesheet" href='https://new.robnugen.com/css/barefoot_rob.css'>
    <link href="//maxcdn.bootstrapcdn.com/font-awesome/4.3.0/css/font-awesome.min.css" rel="stylesheet">

    <link rel="alternate" type="application/rss+xml" title="Barefoot Rob" href='https://new.robnugen.com/index.xml' />
</head>
<body>


<div id="layout" class="pure-g">
    <div class="sidebar pure-u-1 pure-u-md-1-4">
    <div class="header">
        <hgroup>
            <h1 class="brand-title"><a href="https://new.robnugen.com/">Barefoot Rob</a></h1>
            <h2 class="brand-tagline"> keep expanding </h2>
        </hgroup>

        <nav class="nav">
            <ul class="nav-list">
                
                
                
                
                <li class="nav-item">
                    <a class="pure-button" href='/'>
                        <i class="fa"></i> home
                    </a>
                </li>
                <li class="nav-item">
                    <a class="pure-button" href='https://new.robnugen.com/journal'>
                        <i class="fa"></i> journal
                    </a>
                </li>
                <li class="nav-item">
                    <a class="pure-button" href='https://new.robnugen.com/blog'>
                        <i class="fa"></i> blog
                    </a>
                </li>
                
            </ul>
        </nav>
    </div>
</div>


    <div class="content pure-u-1 pure-u-md-3-4">
        <div>
            
            <div class="posts">
                
                <h1 class="content-subhead">08 Nov 2014, 00:00</h1>
                <section class="post">
                    <header class="post-header">

                        <a href="https://new.robnugen.com/journal/2014/11/08/imported-all-entries-from-my-wordpress-into-hakyll/" class="post-title">Imported all entries from my Wordpress into Hakyll</a>

                        <p class="post-meta">
                            
                                By <strong class="post-author">Rob Nugen</strong>
                            
                            
                        </p>
                    </header>

                    <div class="post-description">
                        <p>##22:41 Friday 07 November 2014 JST##</p>

<p>Got all the text as far as I can tell, though the tags sometimes have capital letters.  BUT the much bigger problem is that none of the images were imported.  Their links are embedded in the entries, but the actual files are on robnugen.com/blog/wordpress/whatsit</p>

<p>##10:13am Saturday 8 November 2014 JST</p>

<p>Okay, so last night I forked and tweaked <a href="https://github.com/mloskot/exitwp/tree/exitwp-hakyll">mloskot/exitwp-hakyll</a>
so now I have my own <a href="https://github.com/thunderrabbit/exitwp/tree/exitwp-hakyll">hakyll version of exitwp</a></p>

<p>I tweaked the code so it would use &ldquo;.md&rdquo; as the file extension, insert the entry date inside the body of the text the way I like, and I upated the README a bit.</p>

<p>(I also made it say &ldquo;tags&rdquo; instead of &ldquo;categories&rdquo; because I don&rsquo;t plan to have categories in my Hakyll journal, at least not yet)</p>

<p>After</p>

<pre><code>pip install pyyaml
</code></pre>

<p>Then</p>

<pre><code>python exitwp-hakyll.py
</code></pre>

<p>processed the xml file perfectly but I was like, &ldquo;hey where are the images?&rdquo;</p>

<p>Turns out the images are not included in the export from Wordpress, which just produces an XML file of the textual data.  Links to images are simply HTML links within the body of the entries.</p>

<p>Part of me wants to solve it in code:</p>

<pre><code>for each file in the output
   regex search for links to images
   for each regex found
      determine new URL (path)
      download the file from old URL to new path
      update the link in the text file
</code></pre>

<p>But it will be simpler overall to just migrate the whole file structure via scp like Martin did in May: <a href="https://blog.8thcolor.com/en/2014/05/migrate-from-wordpress/">From Wordpress to Jekyll</a></p>

<p>So here&rsquo;s what I did:</p>

<pre><code>mkdir ~/journal-images
cd ~/journal-images
scp -r robnugen.com:~/robnugen.com/blog/wp-content/uploads/* .
</code></pre>

<p>Then with Finder moved the images from <code>~/journal-images</code> to where they should be in my local hakyll repo. (I used Finder because some of the directory names overlap, and many of the directories were empty!)</p>

<p>Search and replace over all new markdown files: <code>https://robnugen.com/blog/wp-content/uploads/</code> â†’ <code>/images/</code></p>

                    </div>
                </section>
                
            </div>
            

            <div class="footer">
    <div class="pure-menu pure-menu-horizontal pure-menu-open">
        <ul>
            <li>Powered by <a class="hugo" href="https://gohugo.io/" target="_blank">hugo</a></li>
        </ul>
    </div>
</div>
<script src='https://new.robnugen.com/js/all.min.js'></script>

        </div>
    </div>
</div>

<script>
(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
})(window,document,'script','//www.google-analytics.com/analytics.js','ga');

ga('create', '', 'auto');
ga('send', 'pageview');

</script>

</body>
</html>
