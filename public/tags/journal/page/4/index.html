<!doctype html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>journal &middot; Barefoot Rob</title>

    <meta name="description" content="keep expanding">

    <meta name="generator" content="Hugo 0.58.3" />
    <meta name="twitter:card" content="summary">
    <meta name="twitter:site" content="thunderrabbit" />
    <meta name="twitter:title" content="journal &middot; Barefoot Rob">
    <meta name="twitter:description" content="keep expanding">

    <meta property="og:type" content="article">
    <meta property="og:title" content="journal &middot; Barefoot Rob">
    <meta property="og:description" content="keep expanding">

    <link href='//fonts.googleapis.com/css?family=Source+Sans+Pro:400,700|Oxygen:400,700' rel='stylesheet' type='text/css'>
    <link rel="stylesheet" href="//cdnjs.cloudflare.com/ajax/libs/pure/0.6.0/pure-min.css">
    <link rel="stylesheet" href="//cdnjs.cloudflare.com/ajax/libs/pure/0.6.0/grids-responsive-min.css">

    <link rel="stylesheet" href='https://new.robnugen.com/css/all.min.css'>
    <link rel="stylesheet" href='https://new.robnugen.com/css/barefoot_rob.css'>
    <link href="//maxcdn.bootstrapcdn.com/font-awesome/4.3.0/css/font-awesome.min.css" rel="stylesheet">

    <link rel="alternate" type="application/rss+xml" title="Barefoot Rob" href='https://new.robnugen.com/index.xml' />
</head>
<body>


<div id="layout" class="pure-g">
    <div class="sidebar pure-u-1 pure-u-md-1-4">
    <div class="header">
        <hgroup>
            <h1 class="brand-title"><a href="https://new.robnugen.com/">Barefoot Rob</a></h1>
            <h2 class="brand-tagline"> keep expanding </h2>
        </hgroup>

        <nav class="nav">
            <ul class="nav-list">
                
                
                
                
                <li class="nav-item">
                    <a class="pure-button" href='/'>
                        <i class="fa"></i> home
                    </a>
                </li>
                <li class="nav-item">
                    <a class="pure-button" href='https://new.robnugen.com/journal'>
                        <i class="fa"></i> journal
                    </a>
                </li>
                <li class="nav-item">
                    <a class="pure-button" href='https://new.robnugen.com/blog'>
                        <i class="fa"></i> blog
                    </a>
                </li>
                
            </ul>
        </nav>
    </div>
</div>


    <div class="content pure-u-1 pure-u-md-3-4">
        <div>
            
            <div class="posts">
                
                <h1 class="content-subhead">05 Nov 2014, 00:00</h1>
                <section class="post">
                    <header class="post-header">

                        <a href="https://new.robnugen.com/journal/2014/11/05/pre-pre-release-of-hakyll-journal/" class="post-title">pre pre-release of hakyll-journal</a>

                        <p class="post-meta">
                            
                                By <strong class="post-author">Rob Nugen</strong>
                            
                            
                        </p>
                    </header>

                    <div class="post-description">
                        <p>##20:12 Wednesday 05 November 2014 JST##</p>

<p>I&rsquo;m so lucky to have an awesome programmer friend like Travis.  :-)</p>

<p>Over the past few days we have been emailing back and forth, mostly
with me going &ldquo;uh huh&rdquo; &ldquo;yeah&rdquo; &ldquo;that&rsquo;s right&rdquo; &ldquo;great!&rdquo; as he explains
the intricacies of the best way to create a haskell library.</p>

<p>I&rsquo;ve been studying <a href="https://learnyouahaskell.com/">Learn You a Haskell</a>
and considering buying Graham Hutton&rsquo;s book, and am excited to have my
static journal back, very excited to have Travis making a kick-ass
library to seamlessly(?) connect with Hakyll to make it
journalistic&hellip;  I&rsquo;m certain that some of the code he writes will end
up in the main Hakyll library.</p>

<p>I&rsquo;ve been watching my new/old/new hakyll-journal repository, and just
happened to catch the first little bit, 3 minutes after he committed
it.</p>

<p><a href="/images/2014/11/hakyll-journal age 3 minutes.png"><img src="/images/2014/11/thumbs/hakyll-journal age 3 minutes.png" alt="hakyll-journal age 3 minutes" /></a></p>

                    </div>
                </section>
                
                <h1 class="content-subhead">01 Nov 2014, 00:00</h1>
                <section class="post">
                    <header class="post-header">

                        <a href="https://new.robnugen.com/journal/2014/11/01/thanks-to-travis-for-refactoring-the-code/" class="post-title">Thanks to Travis for refactoring the code!</a>

                        <p class="post-meta">
                            
                                By <strong class="post-author">Rob Nugen</strong>
                            
                            
                        </p>
                    </header>

                    <div class="post-description">
                        <p>##02:12 Sunday 02 November 2014 JST##</p>

<p>Got an email from Travis today indicating that he refactored my Hakyll installation.  Whoohoo!!</p>

<p>The <a href="https://github.com/TravisCardwell/hakyll-journal/commits/73c097622380ed70f30bcf51306c25c41d25fd92">refactorization he&rsquo;s done so far is visible here</a>.</p>

<p>The biggest changes (in terms of me not understanding them well) are in one file.  <a href="https://github.com/TravisCardwell/hakyll-journal/commit/05416e71fbbf0f910bcc19717ee88d7ae810c9bd">https://github.com/TravisCardwell/hakyll-journal/commit/05416e71fbbf0f910bcc19717ee88d7ae810c9bd</a>.</p>

<p>I&rsquo;m going to put all his changes into the &lsquo;master&rsquo; branch, merge them into my recently created &lsquo;rob&rsquo; branch, then replace my personalized content in master with some generic stuff so it&rsquo;s easier for people to use this repo for their own Hakyll installations.</p>

                    </div>
                </section>
                
                <h1 class="content-subhead">31 Oct 2014, 00:00</h1>
                <section class="post">
                    <header class="post-header">

                        <a href="https://new.robnugen.com/journal/2014/10/31/installing-journal-with-travis/" class="post-title">Installing journal with Travis</a>

                        <p class="post-meta">
                            
                                By <strong class="post-author">Rob Nugen</strong>
                            
                            
                        </p>
                    </header>

                    <div class="post-description">
                        <p>##14:04 Friday 31 October 2014 JST##</p>

<p>Travis helped me (into and) out of Cabal Hell on my mac. heehee</p>

<pre><code>cd ~
rm -rf .ghc
rm -rf .cabal
rm -rf ~/Library/Haskell
cabal update
cabal install cabal-install
</code></pre>

<p>Building cabal took a few minutes, even on my SSD-filled MBP. bah.</p>

<pre><code>mkdir journal
cd journal
cabal sandbox init
</code></pre>

<p>Now need to create <code>journal.cabal</code> like this:</p>

<pre><code>name:           journal
version:        0.1.0.0
build-type:     Simple
cabal-version:  &gt;=1.10

executable site
    main-is:            site.hs
    build-depends:      base == 4.*
                      , hakyll == 4.5.*
                      , filepath &gt;= 1.3
                      , tagsoup &gt;= 0.13
    ghc-options:        -Wall -O2 -threaded
    default-language:   Haskell2010
</code></pre>

<pre><code>cabal install --only-dependencies
</code></pre>

<p>Installing on the dependencies took about 20 minutes.  (?)</p>

<p>After <code>cabal install --only-dependencies</code> finishes, we build the journal (which uses Hakyll)</p>

<pre><code>cabal install
</code></pre>

<p>And now I can remove site, site.o etc from <code>.gitignore</code>, and just add dist/.  <code>.gitignore</code> now looks like this:</p>

<pre><code>_cache/
_darcs/
_site/
dist/
.cabal-sandbox/
</code></pre>

<p>Now I can compile my site from anywheres.  :-)  Thanks, Travis!!!</p>

                    </div>
                </section>
                
                <h1 class="content-subhead">31 Oct 2014, 00:00</h1>
                <section class="post">
                    <header class="post-header">

                        <a href="https://new.robnugen.com/journal/2014/10/31/trying-sculpin-and-pelican/" class="post-title">Trying sculpin and pelican</a>

                        <p class="post-meta">
                            
                                By <strong class="post-author">Rob Nugen</strong>
                            
                            
                        </p>
                    </header>

                    <div class="post-description">
                        <p>##22:49 Friday 31 October 2014 JST##</p>

<p>Travis suggested it might be a bit challenging to add pagination and the calendar indices that I want in my journal, and he told me about Pelican in Python and I found Sculpin in PHP.</p>

<p>I&rsquo;ve installed both of those with the hope that they could just use the same markdown files as my Hakyll site, but they each have slightly different requirements for the meta data.</p>

<p>Pelican looks a bit closer to what I want, but the installation suddenly broke though I don&rsquo;t remember doing anything that should break it.  I&rsquo;ll reinstall it and see about writing a thing to tweak the meta data on each markdown file.</p>

                    </div>
                </section>
                
                <h1 class="content-subhead">30 Oct 2014, 00:00</h1>
                <section class="post">
                    <header class="post-header">

                        <a href="https://new.robnugen.com/journal/2014/10/30/fixed-emacs-hakyll.el/" class="post-title">Fixed emacs hakyll.el</a>

                        <p class="post-meta">
                            
                                By <strong class="post-author">Rob Nugen</strong>
                            
                            
                        </p>
                    </header>

                    <div class="post-description">
                        <p>##12:09pm Thursday 30 October 2014##</p>

<p>Well it&rsquo;s not 100% yet, but at least it&rsquo;s not ridiculously broken.</p>

<p>##12:27pm##</p>

<p>Sweet!  Now it&rsquo;s working.</p>

<p><a href="https://gist.github.com/thunderrabbit/453c1e1c4a959f113d10/2dcf93f6fa89ecd389c7901699fb26b670a78881">https://gist.github.com/thunderrabbit/453c1e1c4a959f113d10/2dcf93f6fa89ecd389c7901699fb26b670a78881</a></p>

<p>I will probably remove the &ldquo;description:&rdquo; meta data (cause I never use it), and eventually I&rsquo;d like to have default values for year, month, and date fields.</p>

<p>##14:00##</p>

<p>Oh crud; it creates the files in the incorrect directory.</p>

<p>##20:07##</p>

<p>Fixed.</p>

<p><a href="https://gist.github.com/thunderrabbit/453c1e1c4a959f113d10/88eec8d412c90c5eea5ca8ac77c732e554751006">https://gist.github.com/thunderrabbit/453c1e1c4a959f113d10/88eec8d412c90c5eea5ca8ac77c732e554751006</a></p>

                    </div>
                </section>
                
                <h1 class="content-subhead">28 Oct 2014, 00:00</h1>
                <section class="post">
                    <header class="post-header">

                        <a href="https://new.robnugen.com/journal/2014/10/28/journal-plans/" class="post-title">Journal plans</a>

                        <p class="post-meta">
                            
                                By <strong class="post-author">Rob Nugen</strong>
                            
                            
                        </p>
                    </header>

                    <div class="post-description">
                        <p>Things to do related to this Hakyll static site:</p>

<ol>
<li><p>Make sure I&rsquo;m not being charged for my micro instance on AWS.  If I am, then consider using Jekyll on DH.</p></li>

<li><p>Finish the git-based hook system for posting my journal online via git pushes.</p></li>

<li><p>Tweak the site generation code so the URLs include the date, and so the files themselves are organized in directories by date.  I don&rsquo;t want a bajillion files in one giant /posts directory (or even 100)</p></li>

<li><p>Write a macro(?) for SublimeText2 to create journal entry files.  Basically it will use the local date as default, then I&rsquo;ll give it a title and it will create the file with date-based path/name + title.markdown and then put the title in the meta data for the file and put the date as the top line (and a &lsquo;written date&rsquo; if I didn&rsquo;t use the default date of NOW)</p></li>

<li><p>Add tags</p></li>

<li><p>Figure out how to put images in this format.   Egad.  That&rsquo;s what pushed me off my Perl based version in the first place.</p></li>

<li><p>Use an importer for Jekyll to import my Wordpress journal entries into this format (unless there&rsquo;s one written for Hakyll, but they&rsquo;re pretty much the same format.)</p></li>

<li><p>Import journal entries from my old school journal indexed with the cgi script Fred and I wrote in Perl back in the day.</p></li>

<li><p>Import journal entries (and images) from the hoken blog thing.  (That might take way longer but we&rsquo;ll see if I can do it quickly based on how easily I can do the others.)</p></li>

<li><p>Leave those journals intact just for posterity.</p></li>

<li><p>Register SublimeText2</p></li>

<li><p>Tweak the CSS of the site to make it kewl.</p></li>

<li><p>Add comments (via Disqus or its rival probably)</p></li>

<li><p>Optionally, expand this site to include stuff like my old writings, from Feel Good Net to Wild Skating Adventures to various travel stories from my essentially defunct email list.Oh, and all the TIMES, ITEMS, PEEPS, etc stuff off my wiki, but leaving all the art related stuff.</p></li>

<li><p>Start moving other junk off my old provider (Dreamhost, you&rsquo;ve been a great workhorse for many years; thank you.  I&rsquo;m sure we&rsquo;ll be in touch.)</p></li>
</ol>

<p>I&rsquo;m not sure yet about one thing, though: what to call the domain during the transition.  I&rsquo;m thinking it will be new.robnugen.com to start, but I don&rsquo;t totally like it.  I could buy a new domain and let fly2.nu fly away, or one of the others I&rsquo;ve not really used.  Hmmm.</p>

<p>##a bit later##</p>

<p>The dark version is DarkFox&rsquo;s original CSS:</p>

<p><a href="/images/2014/10/DarkFox CSS.png"><img src="/images/2014/10/thumbs/DarkFox CSS.png" alt="DarkFox CSS" /></a></p>

<p><a href="/images/2014/10/Thunderrabbit CSS.png"><img src="/images/2014/10/thumbs/Thunderrabbit CSS.png" alt="thunderrabbit CSS" /></a></p>

                    </div>
                </section>
                
                <h1 class="content-subhead">28 Oct 2014, 00:00</h1>
                <section class="post">
                    <header class="post-header">

                        <a href="https://new.robnugen.com/journal/2014/10/28/local-journal-how-ive-missed-you/" class="post-title">Local journal, how I&#39;ve missed you!</a>

                        <p class="post-meta">
                            
                                By <strong class="post-author">Rob Nugen</strong>
                            
                            
                        </p>
                    </header>

                    <div class="post-description">
                        <p>Here&rsquo;s a new recommendation for journaling: be able to journal anytime.  Until wifi is free everywhere I go, web-based journaling software just won&rsquo;t suffice.  Gotta have a book or in this case a laptop that I carry around.  Otherwise I lose countless moments to the lack of internet connectivity.</p>

<p>Today I went to JB for training on Wednesday morning lessons starting next week.  I&rsquo;m a bit nervous (?) teaching classes in a style I&rsquo;ve never taught before: 15 or 20 kids, 5 year old!</p>

<p>wut.</p>

<p>And actually there&rsquo;s a similarly sized class of 4 year old students.</p>

<p>Into what kind of madness am I getting myself?</p>

<p>I figure I need to treat it like when I broke out of my shell at University of Houston.  I was like, &ldquo;fuckit I&rsquo;m going to talk to people and do things.&rdquo;  In this case it&rsquo;s &ldquo;fuckit, I&rsquo;m going to act like I know how to act around kids!&rdquo;</p>

                    </div>
                </section>
                
                <h1 class="content-subhead">27 Oct 2014, 00:00</h1>
                <section class="post">
                    <header class="post-header">

                        <a href="https://new.robnugen.com/journal/2014/10/27/hakyll-journal/" class="post-title">Hakyll journal</a>

                        <p class="post-meta">
                            
                                By <strong class="post-author">Rob Nugen</strong>
                            
                            
                        </p>
                    </header>

                    <div class="post-description">
                        <p>##01:55:08 Tue 28 Oct 2014##</p>

<p>Boom.  Got me what might be my new journal for a long time to come, if I can figure out how to make the directory structure the way I want, and ifff I can figure out a way to put images in here that is fast and friendly and all that.</p>

<p>I -<em>might</em>- attempt to write a thingy in Haskell to do it.</p>

<p>For now, I just need to set up a way to serve this from Dreamhost.</p>

                    </div>
                </section>
                
                <h1 class="content-subhead">19 May 2013, 12:18</h1>
                <section class="post">
                    <header class="post-header">

                        <a href="https://new.robnugen.com/journal/2013/05/19/looking-at-koken/" class="post-title">Looking at Koken</a>

                        <p class="post-meta">
                            
                            
                        </p>
                    </header>

                    <div class="post-description">
                        <p>##12:18 Sunday 19 May 2013</p>

<p><strong>12:14pm Sunday 19 May 2013</strong></p>

<p>Though it&rsquo;s a lot slower than Wordpress (and only version 0.8.2), I&rsquo;m enjoying using <a href="https://koken.me/">Koken</a> on my site; it looks beautiful and seems to handle images more inclusively rather than as a tacked-on thing.</p>

<p>So for a while, robnugen.com/blog may see fewer entries while I play with robnugen.com/koken.</p>

<p>If I really like it, I&rsquo;ll make /koken be default for my site.</p>

                    </div>
                </section>
                
                <h1 class="content-subhead">10 May 2013, 18:28</h1>
                <section class="post">
                    <header class="post-header">

                        <a href="https://new.robnugen.com/journal/2013/05/10/designing-a-prevnext-class/" class="post-title">Designing a prevnext class</a>

                        <p class="post-meta">
                            
                            
                        </p>
                    </header>

                    <div class="post-description">
                        <p>##18:28 Friday 10 May 2013</p>

<p>Today at work I had a brilliant idea to have prev(ious) and next buttons work as expected.</p>

<p>The blog entry index allows people to view e.g. only this category or that category or just this month or just last years entries.</p>

<p>Once they click the link to view a specific entry, the site has no idea what order nor what subset of entries was in the index.  I&rsquo;ve solved the problem in the past by storing in lawnchair a list of all the ids, in order, resulting from the search.  With 60,000 entries, that makes the index page slow because all that data is being searched and processes in the background.</p>

<p>While looking for a faster way to solve it, I realized an ingenious solution!!   I&rsquo;ll store in lawnchair the <em>query</em> and then just run the query with appropriate OFFSET and LIMIT to get the prev/next entries!</p>

<p>I got the query saved in lawnchair and was just about to AJAX the query to the server upon arrival at the blog entry page and I realized, OH CRAP!!  What an excellent system for running arbitrary SQL on the server!!!</p>

<p>(For the lay reader, this is a Very Bad Thing)</p>

<p>Crap.</p>

<p>So I scrapped my code and went back to my flexible A4 sized drawing board.</p>

<p>I dug around on SO a bit looking for insight and pretty much decided there&rsquo;s no way to do it without storing the query.  So the prevnext table was born.</p>

<p>Essentially, it&rsquo;s user_id and query_key as a grouped index, then a query as the query.</p>

<p>I&rsquo;ve got a class that talks to that table, and I think I&rsquo;m pretty close to having it work.  If it does work as planned, I&rsquo;ll probably port it to the system with 60,000 entries and make its index wonderfully faster.</p>

<p>I probably would have finished it today, but it&rsquo;s Friday night and Lin and I are going out with Nonie in Tokyo.</p>

                    </div>
                </section>
                
            </div>
            
<div class="pagination">
  <nav role="pagination" class="post-list-pagination">
      
      <a href="/tags/journal/page/3/" class="post-list-pagination-item pure-button post-list-pagination-item-prev">
        <i class="fa fa-angle-double-left"></i>&nbsp;Newer
      </a>
      
    <span class="post-list-pagination-item post-list-pagination-item-current">Page 4 of 26</span>
    
      <a href="/tags/journal/page/5/" class="post-list-pagination-item pure-button post-list-pagination-item-next">
        Older&nbsp;<i class="fa fa-angle-double-right"></i>
      </a>
    
  </nav>
</div>


            <div class="footer">
    <div class="pure-menu pure-menu-horizontal pure-menu-open">
        <ul>
            <li>Powered by <a class="hugo" href="https://gohugo.io/" target="_blank">hugo</a></li>
        </ul>
    </div>
</div>
<script src='https://new.robnugen.com/js/all.min.js'></script>

        </div>
    </div>
</div>

<script>
(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
})(window,document,'script','//www.google-analytics.com/analytics.js','ga');

ga('create', '', 'auto');
ga('send', 'pageview');

</script>

</body>
</html>
