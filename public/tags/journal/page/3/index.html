<!doctype html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>journal &middot; Barefoot Rob</title>

    <meta name="description" content="keep expanding">

    <meta name="generator" content="Hugo 0.58.3" />
    <meta name="twitter:card" content="summary">
    <meta name="twitter:site" content="thunderrabbit" />
    <meta name="twitter:title" content="journal &middot; Barefoot Rob">
    <meta name="twitter:description" content="keep expanding">

    <meta property="og:type" content="article">
    <meta property="og:title" content="journal &middot; Barefoot Rob">
    <meta property="og:description" content="keep expanding">

    <link href='//fonts.googleapis.com/css?family=Source+Sans+Pro:400,700|Oxygen:400,700' rel='stylesheet' type='text/css'>
    <link rel="stylesheet" href="//cdnjs.cloudflare.com/ajax/libs/pure/0.6.0/pure-min.css">
    <link rel="stylesheet" href="//cdnjs.cloudflare.com/ajax/libs/pure/0.6.0/grids-responsive-min.css">

    <link rel="stylesheet" href='https://new.robnugen.com/css/all.min.css'>
    <link rel="stylesheet" href='https://new.robnugen.com/css/barefoot_rob.css'>
    <link href="//maxcdn.bootstrapcdn.com/font-awesome/4.3.0/css/font-awesome.min.css" rel="stylesheet">

    <link rel="alternate" type="application/rss+xml" title="Barefoot Rob" href='https://new.robnugen.com/index.xml' />
</head>
<body>


<div id="layout" class="pure-g">
    <div class="sidebar pure-u-1 pure-u-md-1-4">
    <div class="header">
        <hgroup>
            <h1 class="brand-title"><a href="https://new.robnugen.com/">Barefoot Rob</a></h1>
            <h2 class="brand-tagline"> keep expanding </h2>
        </hgroup>

        <nav class="nav">
            <ul class="nav-list">
                
                
                
                
                <li class="nav-item">
                    <a class="pure-button" href='/'>
                        <i class="fa"></i> home
                    </a>
                </li>
                <li class="nav-item">
                    <a class="pure-button" href='https://new.robnugen.com/journal'>
                        <i class="fa"></i> journal
                    </a>
                </li>
                <li class="nav-item">
                    <a class="pure-button" href='https://new.robnugen.com/blog'>
                        <i class="fa"></i> blog
                    </a>
                </li>
                
            </ul>
        </nav>
    </div>
</div>


    <div class="content pure-u-1 pure-u-md-3-4">
        <div>
            
            <div class="posts">
                
                <h1 class="content-subhead">26 Mar 2015, 14:22</h1>
                <section class="post">
                    <header class="post-header">

                        <a href="https://new.robnugen.com/journal/2015/03/26/tentative-steps-at-repaving-image-paths/" class="post-title">tentative steps at repaving image paths</a>

                        <p class="post-meta">
                            
                                By <strong class="post-author">Rob Nugen</strong>
                            
                            
                        </p>
                    </header>

                    <div class="post-description">
                        

<p>##14:22 Thursday 26 March 2015 JST##</p>

<p>Okay, The journal entry I&rsquo;m writing now is in my
<a href="https://bitbucket.org/thunderrabbit/robnugen-journal-entries">journal repo</a>
(or will be once I push it there).</p>

<p>In this repo, coming from my old journal, I think there are several
instances of URLs like /images/&hellip;.  in various entries.</p>

<p>I would like those to keep working, but I don&rsquo;t want to put all my
images in this repo, or even my Middleman repo because it&rsquo;s more
likely to change than my images, and images take up more disk space,
generally speaking.</p>

<p>SO, I&rsquo;ve created b.robnugen.com and copied from robnugen.com/images
all the directories and paths right onto the root of b.robnugen.com</p>

<p>Okay let&rsquo;s live blog this.</p>

<p>##14:28</p>

<p>I need to find an old entry with a reference to /images.</p>

<p>searched:
<a href="https://encrypted.google.com/search?hl=en&amp;source=hp&amp;q=site%3Arobnugen.com%2Fcgi-bin+images&amp;btnG=Google+Search&amp;aq=f&amp;oq=&amp;aqi=">site:robnugen.com/cgi-bin images</a></p>

<p>and came up with several options.</p>

<p>Here&rsquo;s the
<a href="https://archive.today/RWBWA">same search saved by archive.today </a></p>

<p>##14:32</p>

<p>Gulp. I see &ldquo;permalink&rdquo; at the bottom of each of these entries. hahah
hmmm</p>

<p>Okay so let&rsquo;s see&hellip;</p>

<p>on old site
<a href="https://robnugen.com/cgi-bin/journal.pl?type=all&amp;date=2006/05/19#Funny_email_to_g">19 May 2006 funny email to g</a>
(<a href="https://archive.today/sKupd">same page on archive.today</a>)</p>

<p>on new.robnugen.com</p>

<p>dang that happens to be a page I&rsquo;ve not ported over yet.</p>

<h2 id="14-36">14:36</h2>

<p>Okay here&rsquo;s one</p>

<p>on old site
<a href="https://robnugen.com/cgi-bin/journal.pl?type=all&amp;date=2000/07/10#Dream">10 July 2000 dream</a>
(<a href="https://archive.today/CdomT">same page on archive.today</a>)</p>

<p>on new.robnugen.com</p>

<p><a href="//new.robnugen.com/journal/2000/07/10/Dream/">10 July 2000 dream</a>
(<a href="https://archive.today/i8K53">same page on archive.today</a>)</p>

<p>That &ldquo;with love - ROB!&rdquo; signature is actually hosted on b.robnugen.com
though referenced as /images/rob/wL-ROB.gif on new.robnugen.com</p>

<p>See?</p>

<p>&lt;img src=&ldquo;/rob/wL-ROB.gif&rdquo; /&gt;</p>

<p>give me this:</p>

<p><img src="/rob/wL-ROB.gif" /></p>

<p>Hahahaha</p>

<p>I forgot I have to add /images</p>

<p>&lt;img src=&ldquo;/images/rob/wL-ROB.gif&rdquo; /&gt;</p>

<p>give me this:</p>

<p><img src="/images/rob/wL-ROB.gif" /></p>

                    </div>
                </section>
                
                <h1 class="content-subhead">17 Mar 2015, 16:44</h1>
                <section class="post">
                    <header class="post-header">

                        <a href="https://new.robnugen.com/journal/2015/03/17/more-easily-make-dream-entries/" class="post-title">more easily make dream entries</a>

                        <p class="post-meta">
                            
                                By <strong class="post-author">Rob Nugen</strong>
                            
                            
                        </p>
                    </header>

                    <div class="post-description">
                        <p>##16:44 Tuesday 17 March 2015 JST##</p>

<p>I duplicated several lines of code so Emacs can more easily create
dream and Japanese study journal entries.</p>

<p><a href="https://gist.github.com/thunderrabbit/453c1e1c4a959f113d10#file-hakyll-el">hakyll.el</a></p>

                    </div>
                </section>
                
                <h1 class="content-subhead">03 Mar 2015, 22:25</h1>
                <section class="post">
                    <header class="post-header">

                        <a href="https://new.robnugen.com/journal/2015/03/03/netlify-doesnt-git-clone-recursive/" class="post-title">Netlify doesn&#39;t git clone --recursive</a>

                        <p class="post-meta">
                            
                                By <strong class="post-author">Rob Nugen</strong>
                            
                            
                        </p>
                    </header>

                    <div class="post-description">
                        <p>##22:25 Tuesday 03 March 2015 JST##</p>

<p>I got my repos sorted today; all the journal entries have had
frontmatter lobotomies if Middleman can&rsquo;t deal with the different
dates, and my main Middleman repo includes the journal entry repo as a
submodule.</p>

<p>However, turns out netlify doesn&rsquo;t clone recursively (yet).  I
mentioned this to Mathias and he was like, &ldquo;hmm you&rsquo;re right&rdquo; and said
he would look into it.  But, he said politely, he was planning to go
home for the night and didn&rsquo;t want to push any possibly-breaking
changes before going to bed.</p>

<p>HAHhahaa most def.  We&rsquo;ll see if they get it sorted out soon!  Then
I&rsquo;ll have a temporary space for journals before I figure out how
Middleman does deploys natively, decide what URL to use (hakyll?  but
it&rsquo;s not Hakyll anymore&hellip; hmmm), and set it all up.</p>

<p>Maybe I&rsquo;ll go with new.robnugen.com until it&rsquo;s a site that can take
over for all the crap on robnugen.com now (fat chance?) then kill
robnugen.com as I switch new.robnugen.com to www.robnugen.com.  Damn
what a lot of <del>broken links</del> <ins>redirects</ins> I have
planned!</p>

                    </div>
                </section>
                
                <h1 class="content-subhead">28 Feb 2015, 10:25</h1>
                <section class="post">
                    <header class="post-header">

                        <a href="https://new.robnugen.com/journal/2015/02/28/pinged/" class="post-title">pinged</a>

                        <p class="post-meta">
                            
                                By <strong class="post-author">Rob Nugen</strong>
                            
                            
                        </p>
                    </header>

                    <div class="post-description">
                        <p>##10:25 Saturday 28 February 2015 JST##</p>

<p>Travis pinged me after not having seen my journal updated for a while..  Super grateful to have an avid reader!</p>

                    </div>
                </section>
                
                <h1 class="content-subhead">18 Feb 2015, 16:52</h1>
                <section class="post">
                    <header class="post-header">

                        <a href="https://new.robnugen.com/journal/2015/02/18/moved-all-files-to-yyyy/mm-directories/" class="post-title">moved all files to YYYY/MM directories</a>

                        <p class="post-meta">
                            
                                By <strong class="post-author">Rob Nugen</strong>
                            
                            
                        </p>
                    </header>

                    <div class="post-description">
                        <p>##16:52 Wednesday 18 February 2015 JST##</p>

<p>But my journal template maker doesn&rsquo;t work properly; it creates the
buffer and fills it in, but doesn&rsquo;t switch to the buffer anymore. Hmm.</p>

                    </div>
                </section>
                
                <h1 class="content-subhead">14 Feb 2015, 18:22</h1>
                <section class="post">
                    <header class="post-header">

                        <a href="https://new.robnugen.com/journal/2015/02/14/journal-entry-repo/" class="post-title">Journal entry repo</a>

                        <p class="post-meta">
                            
                                By <strong class="post-author">Rob Nugen</strong>
                            
                            
                        </p>
                    </header>

                    <div class="post-description">
                        <p>##18:22 Saturday 14 February 2015 JST##</p>

<p>For years, I have been writing my journal entries in directories based
on the date.  Originally in YYYY/MM directories, and now
(temporarily?) in YYYY/MM/DD directories.</p>

<p>So while recently trying to consolidate all my journal entries, I&rsquo;ve
wanted to maintain that directory structure, lest I have several
thousand(?)  files in one directory.</p>

<p>Travis got me started on Hakyll, but I&rsquo;m too lazy and he&rsquo;s too busy to
update the Haskell source with cool bells and whistles.</p>

<p>I started looking at Pelican, but it choked on all the entries, which
start with <code>---</code> as the first line.  Hmm lemme do a quick search.</p>

<p>Okay I found
<a href="https://github.com/getpelican/pelican/issues/607">Add yaml Reader</a>
and
<a href="https://github.com/getpelican/pelican-plugins/pull/29">YAML importer for Emacs org-mode posts</a>,
so maybe it&rsquo;s easily possible.</p>

<p>Now I&rsquo;m looking at Middleman, and I liked Hexo, but <a href="/journal/2015/02/12/middleman-and-hexo.md">blah blah blah</a>(*)..</p>

<p>but in ANY case, I still have found a big annoyance with implementing
any of these static site genrators: my journal entries are the biggest
part of the repo!</p>

<p>SO, I&rsquo;ve made a separate repo which just has my journal entries, in
YYYY/MM(/DD) directories.</p>

<p>But still, even this solution has the fatal flaw of a shload of broken
links, especially to /images directory.</p>

<p>(*) I&rsquo;ve used the link &ldquo;/journal/2015/02/12/middleman-and-hexo.md&rdquo; but
I&rsquo;m thinking now of switching to
/journal/2015/02/12middleman-and-hexo.md because its easier for me to
find&hellip;.  ohhhhh I know.  I&rsquo;ll tell the static site generator to use
/journal/2015/02/12/middleman-and-hexo but the file will be at
/journal/2015/02/12middleman-and-hexo.md so I can find the entries a
bit more easily in my file folders.</p>

<p>In one month I have between 0 and maybe 100 entries, so that&rsquo;s fine to
have them all in one directory.  But if I add the extra DD directory,
it&rsquo;s harder for me to find the files because I&rsquo;m 30 times less likely
to remember the date something happened than I am the month it
happened.</p>

<p>Now I&rsquo;ve got to roll through all the directories and fix the filenames.</p>

                    </div>
                </section>
                
                <h1 class="content-subhead">21 Dec 2014, 00:00</h1>
                <section class="post">
                    <header class="post-header">

                        <a href="https://new.robnugen.com/journal/2014/12/21/at-fujizakurasou/" class="post-title">At Fujizakurasou</a>

                        <p class="post-meta">
                            
                                By <strong class="post-author">Rob Nugen</strong>
                            
                            
                        </p>
                    </header>

                    <div class="post-description">
                        <p>##03:18 Sunday 21 December 2014 JST##</p>

<p>This place is nice and quiet; I think there may be only one other
couple here.  We had each hot spring bath to ourselves, the entire
lobby to ourselves, the entire hall to ourselves.</p>

<p>We took a bus from Shinjuku to Kawaguchiko, and then the hotel sent a
shuttle to shuttle us to the hotel.  The driver reeked of cigarette
smoke, and the van was equally bad.  I opened the window in the van to
breathe fresh air instead.</p>

<p>There&rsquo;s a slight problem with using the facility as a ET Contact spot;
they apparently lock the doors at 11pm each night.  Hmmm.  There&rsquo;s
also a bright light that was on after 11pm.  (The guy said it stays on
all night, but I just went to check and it&rsquo;s off (at 3am), so maybe it
goes off at midnight)</p>

<p>Other than the doors, now that I know the light goes off, this is a
relatively good spot, though the trees allow less than 180 degree view
of the sky.</p>

<p>Hmmm, looking at the video that Mark made, I am not sure if it&rsquo;s
exactly the same spot, but it&rsquo;s pretty close.</p>

                    </div>
                </section>
                
                <h1 class="content-subhead">21 Dec 2014, 00:00</h1>
                <section class="post">
                    <header class="post-header">

                        <a href="https://new.robnugen.com/journal/2014/12/21/posting-pics-in-journal/" class="post-title">posting pics in journal</a>

                        <p class="post-meta">
                            
                                By <strong class="post-author">Rob Nugen</strong>
                            
                            
                        </p>
                    </header>

                    <div class="post-description">
                        <p>##03:37 Sunday 21 December 2014 JST##</p>

<p>Been posting pictures in my journal for the past couple of hours,
getting caught up on the photos I had taken over the last month, but
never posted.</p>

                    </div>
                </section>
                
                <h1 class="content-subhead">08 Nov 2014, 00:00</h1>
                <section class="post">
                    <header class="post-header">

                        <a href="https://new.robnugen.com/journal/2014/11/08/imported-all-entries-from-my-wordpress-into-hakyll/" class="post-title">Imported all entries from my Wordpress into Hakyll</a>

                        <p class="post-meta">
                            
                                By <strong class="post-author">Rob Nugen</strong>
                            
                            
                        </p>
                    </header>

                    <div class="post-description">
                        <p>##22:41 Friday 07 November 2014 JST##</p>

<p>Got all the text as far as I can tell, though the tags sometimes have capital letters.  BUT the much bigger problem is that none of the images were imported.  Their links are embedded in the entries, but the actual files are on robnugen.com/blog/wordpress/whatsit</p>

<p>##10:13am Saturday 8 November 2014 JST</p>

<p>Okay, so last night I forked and tweaked <a href="https://github.com/mloskot/exitwp/tree/exitwp-hakyll">mloskot/exitwp-hakyll</a>
so now I have my own <a href="https://github.com/thunderrabbit/exitwp/tree/exitwp-hakyll">hakyll version of exitwp</a></p>

<p>I tweaked the code so it would use &ldquo;.md&rdquo; as the file extension, insert the entry date inside the body of the text the way I like, and I upated the README a bit.</p>

<p>(I also made it say &ldquo;tags&rdquo; instead of &ldquo;categories&rdquo; because I don&rsquo;t plan to have categories in my Hakyll journal, at least not yet)</p>

<p>After</p>

<pre><code>pip install pyyaml
</code></pre>

<p>Then</p>

<pre><code>python exitwp-hakyll.py
</code></pre>

<p>processed the xml file perfectly but I was like, &ldquo;hey where are the images?&rdquo;</p>

<p>Turns out the images are not included in the export from Wordpress, which just produces an XML file of the textual data.  Links to images are simply HTML links within the body of the entries.</p>

<p>Part of me wants to solve it in code:</p>

<pre><code>for each file in the output
   regex search for links to images
   for each regex found
      determine new URL (path)
      download the file from old URL to new path
      update the link in the text file
</code></pre>

<p>But it will be simpler overall to just migrate the whole file structure via scp like Martin did in May: <a href="https://blog.8thcolor.com/en/2014/05/migrate-from-wordpress/">From Wordpress to Jekyll</a></p>

<p>So here&rsquo;s what I did:</p>

<pre><code>mkdir ~/journal-images
cd ~/journal-images
scp -r robnugen.com:~/robnugen.com/blog/wp-content/uploads/* .
</code></pre>

<p>Then with Finder moved the images from <code>~/journal-images</code> to where they should be in my local hakyll repo. (I used Finder because some of the directory names overlap, and many of the directories were empty!)</p>

<p>Search and replace over all new markdown files: <code>https://robnugen.com/blog/wp-content/uploads/</code> → <code>/images/</code></p>

                    </div>
                </section>
                
                <h1 class="content-subhead">08 Nov 2014, 00:00</h1>
                <section class="post">
                    <header class="post-header">

                        <a href="https://new.robnugen.com/journal/2014/11/08/importing-journal-entries-from-perl-journal/" class="post-title">Importing journal entries from Perl journal</a>

                        <p class="post-meta">
                            
                                By <strong class="post-author">Rob Nugen</strong>
                            
                            
                        </p>
                    </header>

                    <div class="post-description">
                        <p>##23:06 Saturday 08 November 2014 JST##</p>

<p>I&rsquo;ve spent a few hours today processing my old school journal entries
for inclusion in my hakyll journal. I have been doing it all in emacs,
with some macros to speed up the process (of processing them).</p>

<p>The first macro redacts email address domains from comments:</p>

<pre><code>(fset 'rn-00-redact-emails-in-comments
   [?\C-s ?c ?o ?m ?m ?e ?n ?t return return ?\C-s ?@ return ?\C-k ?  ?* ?r ?e ?d ?a ?c ?t ?e ?d ?* escape ?b escape ?b return ?&lt; ?p ?&gt; ?&lt; ?b ?&gt; ?E ?m ?a ?i ?l ?: ?&lt; ?/ ?b ?&gt; ?  ?\C-a ?\C-p ?\C-k ?\C-k ?\C-x ?\C-s ?\C-x ?k return ?n])
</code></pre>

<p>The second macro embeds each comment (which were stored in separate
files in the old system) in the journal entry for which the comment
was written.</p>

<pre><code>(fset 'rn-01-embed-comments
   [?\C-s ?. ?c ?o ?m ?m ?e ?n ?t return return ?\C-  escape ?&gt; ?\C-w ?\C-x ?\C-s ?\C-x ?k return ?p return escape ?&gt; escape ?&gt; return ?# ?# ?# ?c ?o ?m ?m ?e ?n ?t ?s return ?\C-y ?\C-x ?\C-s ?\C-x ?k return ?n ?n])
</code></pre>

<p>The third macro creates files that will be the meta data for each entry</p>

<pre><code>(fset 'rn-02-create-yaml-files
   [?\C-  ?\C-e escape ?w ?\C-x ?\C-f ?\C-y ?. ?y ?a ?m ?l return ?\C-y return ?\C-x ?i ?~ ?/ ?j ?o ?u ?r ?n ?a ?l ?. backspace ?- ?r ?n ?. ?c ?o ?m ?/ ?y ?a ?m tab return ?\C-p ?\C-f ?\C-f ?\C-k backspace backspace ?\C-d ?\C-n ?\C-e ?\C-y backspace backspace backspace backspace backspace ?\C-n ?\C-n ?\C-n ?\C-x ?\C-s ?\C-x ?b ?* ?M ?e ?s ?s ?a ?g ?e ?s tab return ?\C-p ?\C-s ?. ?c ?o ?m ?\C-s return ?\C-f ?\C-  ?\C-f ?\C-f ?\C-f ?\C-f ?\C-f ?\C-f ?\C-f ?\C-f ?\C-f ?\C-f escape ?w ?\C-x ?k return ?\C-y ?\C-b ?\C-b backspace ?- ?\C-b ?\C-b ?\C-b backspace ?- escape ?&lt; escape ?x ?r ?e ?p ?l tab ?s ?t tab return ?_ return ?  return ?\C-a ?\C-x ?\C-s ?\C-x ?k return ?n])
</code></pre>

<p>There are a couple of macros to place tags in the meta data, based on file names:</p>

<pre><code>zzzz  -&gt; sleepy
dream -&gt; dream
etc
</code></pre>

<p>Then the last macro embeds the meta data in the files:</p>

<pre><code>(fset 'rn-06-merge-yaml-files
   [?\C-  ?\C-e escape ?w return return ?\C-p ?\C-x ?i ?\C-y ?. ?y tab return ?\C-x ?\C-s ?\C-x ?k return ?R ?\C-y backspace backspace backspace backspace ?m ?d return ?n ?d])
</code></pre>

<p>So far, I have embedded comments and created meta-data files for files from 1985 down through the middle of 2003.</p>

                    </div>
                </section>
                
            </div>
            
<div class="pagination">
  <nav role="pagination" class="post-list-pagination">
      
      <a href="/tags/journal/page/2/" class="post-list-pagination-item pure-button post-list-pagination-item-prev">
        <i class="fa fa-angle-double-left"></i>&nbsp;Newer
      </a>
      
    <span class="post-list-pagination-item post-list-pagination-item-current">Page 3 of 26</span>
    
      <a href="/tags/journal/page/4/" class="post-list-pagination-item pure-button post-list-pagination-item-next">
        Older&nbsp;<i class="fa fa-angle-double-right"></i>
      </a>
    
  </nav>
</div>


            <div class="footer">
    <div class="pure-menu pure-menu-horizontal pure-menu-open">
        <ul>
            <li>Powered by <a class="hugo" href="https://gohugo.io/" target="_blank">hugo</a></li>
        </ul>
    </div>
</div>
<script src='https://new.robnugen.com/js/all.min.js'></script>

        </div>
    </div>
</div>

<script>
(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
})(window,document,'script','//www.google-analytics.com/analytics.js','ga');

ga('create', '', 'auto');
ga('send', 'pageview');

</script>

</body>
</html>
