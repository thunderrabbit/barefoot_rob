<!doctype html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Journals &middot; Barefoot Rob</title>

    <meta name="description" content="keep expanding">

    <meta name="generator" content="Hugo 0.58.3" />
    <meta name="twitter:card" content="summary">
    <meta name="twitter:site" content="thunderrabbit" />
    <meta name="twitter:title" content="Journals &middot; Barefoot Rob">
    <meta name="twitter:description" content="keep expanding">

    <meta property="og:type" content="article">
    <meta property="og:title" content="Journals &middot; Barefoot Rob">
    <meta property="og:description" content="keep expanding">

    <link href='//fonts.googleapis.com/css?family=Source+Sans+Pro:400,700|Oxygen:400,700' rel='stylesheet' type='text/css'>
    <link rel="stylesheet" href="//cdnjs.cloudflare.com/ajax/libs/pure/0.6.0/pure-min.css">
    <link rel="stylesheet" href="//cdnjs.cloudflare.com/ajax/libs/pure/0.6.0/grids-responsive-min.css">

    <link rel="stylesheet" href='https://new.robnugen.com/css/all.min.css'>
    <link rel="stylesheet" href='https://new.robnugen.com/css/barefoot_rob.css'>
    <link href="//maxcdn.bootstrapcdn.com/font-awesome/4.3.0/css/font-awesome.min.css" rel="stylesheet">

    <link rel="alternate" type="application/rss+xml" title="Barefoot Rob" href='https://new.robnugen.com/index.xml' />
</head>
<body>


<div id="layout" class="pure-g">
    <div class="sidebar pure-u-1 pure-u-md-1-4">
    <div class="header">
        <hgroup>
            <h1 class="brand-title"><a href="https://new.robnugen.com/">Barefoot Rob</a></h1>
            <h2 class="brand-tagline"> keep expanding </h2>
        </hgroup>

        <nav class="nav">
            <ul class="nav-list">
                
                
                
                
                <li class="nav-item">
                    <a class="pure-button" href='/'>
                        <i class="fa"></i> home
                    </a>
                </li>
                <li class="nav-item">
                    <a class="pure-button" href='https://new.robnugen.com/journal'>
                        <i class="fa"></i> journal
                    </a>
                </li>
                <li class="nav-item">
                    <a class="pure-button" href='https://new.robnugen.com/blog'>
                        <i class="fa"></i> blog
                    </a>
                </li>
                
            </ul>
        </nav>
    </div>
</div>


    <div class="content pure-u-1 pure-u-md-3-4">
        <div>
            
            <div class="posts">
                
                <h1 class="content-subhead">31 Oct 2014, 00:00</h1>
                <section class="post">
                    <header class="post-header">

                        <a href="https://new.robnugen.com/journal/2014/10/31/trying-sculpin-and-pelican/" class="post-title">Trying sculpin and pelican</a>

                        <p class="post-meta">
                            
                                By <strong class="post-author">Rob Nugen</strong>
                            
                            
                        </p>
                    </header>

                    <div class="post-description">
                        <p>##22:49 Friday 31 October 2014 JST##</p>

<p>Travis suggested it might be a bit challenging to add pagination and the calendar indices that I want in my journal, and he told me about Pelican in Python and I found Sculpin in PHP.</p>

<p>I&rsquo;ve installed both of those with the hope that they could just use the same markdown files as my Hakyll site, but they each have slightly different requirements for the meta data.</p>

<p>Pelican looks a bit closer to what I want, but the installation suddenly broke though I don&rsquo;t remember doing anything that should break it.  I&rsquo;ll reinstall it and see about writing a thing to tweak the meta data on each markdown file.</p>

                    </div>
                </section>
                
                <h1 class="content-subhead">30 Oct 2014, 00:00</h1>
                <section class="post">
                    <header class="post-header">

                        <a href="https://new.robnugen.com/journal/2014/10/30/alex-outside/" class="post-title">Alex outside</a>

                        <p class="post-meta">
                            
                                By <strong class="post-author">Rob Nugen</strong>
                            
                            
                        </p>
                    </header>

                    <div class="post-description">
                        <p>(written 09:59 Friday 07 November 2014 JST)</p>

<p>Photo taken 30 October 2014</p>

<p><a href="/images/2014/10/Alex outside 30 Oct 2014.png"><img src="/images/2014/10/thumbs/Alex outside 30 Oct 2014.png" alt="Alex" /></a></p>

                    </div>
                </section>
                
                <h1 class="content-subhead">30 Oct 2014, 00:00</h1>
                <section class="post">
                    <header class="post-header">

                        <a href="https://new.robnugen.com/journal/2014/10/30/fixed-emacs-hakyll.el/" class="post-title">Fixed emacs hakyll.el</a>

                        <p class="post-meta">
                            
                                By <strong class="post-author">Rob Nugen</strong>
                            
                            
                        </p>
                    </header>

                    <div class="post-description">
                        <p>##12:09pm Thursday 30 October 2014##</p>

<p>Well it&rsquo;s not 100% yet, but at least it&rsquo;s not ridiculously broken.</p>

<p>##12:27pm##</p>

<p>Sweet!  Now it&rsquo;s working.</p>

<p><a href="https://gist.github.com/thunderrabbit/453c1e1c4a959f113d10/2dcf93f6fa89ecd389c7901699fb26b670a78881">https://gist.github.com/thunderrabbit/453c1e1c4a959f113d10/2dcf93f6fa89ecd389c7901699fb26b670a78881</a></p>

<p>I will probably remove the &ldquo;description:&rdquo; meta data (cause I never use it), and eventually I&rsquo;d like to have default values for year, month, and date fields.</p>

<p>##14:00##</p>

<p>Oh crud; it creates the files in the incorrect directory.</p>

<p>##20:07##</p>

<p>Fixed.</p>

<p><a href="https://gist.github.com/thunderrabbit/453c1e1c4a959f113d10/88eec8d412c90c5eea5ca8ac77c732e554751006">https://gist.github.com/thunderrabbit/453c1e1c4a959f113d10/88eec8d412c90c5eea5ca8ac77c732e554751006</a></p>

                    </div>
                </section>
                
                <h1 class="content-subhead">30 Oct 2014, 00:00</h1>
                <section class="post">
                    <header class="post-header">

                        <a href="https://new.robnugen.com/journal/2014/10/30/jb-lesson-this-morning/" class="post-title">JB lesson this morning</a>

                        <p class="post-meta">
                            
                                By <strong class="post-author">Rob Nugen</strong>
                            
                            
                        </p>
                    </header>

                    <div class="post-description">
                        <p>##09:03 Thursday 30 October 2014 JST##</p>

<p>I&rsquo;ve been teaching a lesson each Thursday morning for JB at a company
office near Kawasaki station.  Today new student Yohei arrived, though
Chika, one of my &ldquo;regulars&rdquo; wasn&rsquo;t there, so still just two students,
including Ayano.</p>

                    </div>
                </section>
                
                <h1 class="content-subhead">30 Oct 2014, 00:00</h1>
                <section class="post">
                    <header class="post-header">

                        <a href="https://new.robnugen.com/journal/2014/10/30/possible-bug-in-mysql/" class="post-title">Possible bug in MySQL</a>

                        <p class="post-meta">
                            
                                By <strong class="post-author">Rob Nugen</strong>
                            
                            
                        </p>
                    </header>

                    <div class="post-description">
                        <p>##11:20 Thursday 30 October 2014##</p>

<p>I&rsquo;m not <del>ready</del> likely to file a bug report, but I had to change a field to UNSIGNED before I could use it in a math operation that resulted in a negative value.</p>

<p>I wasn&rsquo;t trying to store a negative value, just</p>

<p>WHERE 2014 - <code>field</code> &gt; 0</p>

<p>The field was unsigned smallint with value 2015.</p>

                    </div>
                </section>
                
                <h1 class="content-subhead">30 Oct 2014, 00:00</h1>
                <section class="post">
                    <header class="post-header">

                        <a href="https://new.robnugen.com/journal/2014/10/30/tutorial-running-hakyll-for-free-on-aws/" class="post-title">Tutorial- running Hakyll for free on AWS</a>

                        <p class="post-meta">
                            
                                By <strong class="post-author">Rob Nugen</strong>
                            
                            
                        </p>
                    </header>

                    <div class="post-description">
                        <p>##20:20 Thursday 30 October 2014 JST##</p>

<p>These notes should work for *nix, including OS X, which I&rsquo;m using.  Windows users may have to adapt when it comes to local stuff.</p>

<p>Easy as</p>

<ol>
<li>get server with root access</li>
<li>set up Nginx on server</li>
<li>set up Hakyll locally</li>
</ol>

<p>##1. sign up for AWS micro (free tier available)##</p>

<p>I will probably go with all their defaults:</p>

<p>####Step 1:####</p>

<p>For this, I&rsquo;m using <code>Amazon Linux AMI 2014.09.1 (HVM) - ami-b5a7ea85</code> because it&rsquo;s at the top of the AMI list when creating a new EC2 instance, offers a free tier, and includes Docker, which I&rsquo;ve heard about more than twice, but know nothing of it yet.</p>

<p>####Step 2:####</p>

<p>t2.micro (free tier eligible)</p>

<p>####Step 3 (Configture Instance details)####</p>

<p>leave defaults</p>

<p>####Step 4 Add Storage:####</p>

<p>Root /dev/xvda snap-62cf04aa  8GiB  <del>Magnetic</del> gp2  Not Encrypted</p>

<p>####Step 5 Tag Instance:####</p>

<p>Anything you like is fine.  For me:</p>

<pre><code>Name : hakyll.robnugen.com
</code></pre>

<p>####Step 6 Configure Security Group:####</p>

<p>Create a new security group.  Any name is fine.</p>

<p>Security group name: hakyll.robnugen.com</p>

<p>Make sure it has the following two rules:</p>

<pre><code>SSH from My IP
HTTP from anywhere
</code></pre>

<p>####Review and Launch####</p>

<p>I got a popup saying I can use SSD for free, so I&rsquo;m selecing that.  (I had selected Magnetic in step 4 above)</p>

<p>####Save the PEM####</p>

<p>The very final step results in a popup asking which PEM you want to
use to access the server.  If you don&rsquo;t have a PEM file, download and
save the file in your ~/.ssh directory.  After saving, set its
permissions to 400:</p>

<pre><code>cd ~/.ssh
chmod 400 your-pem-filename.pem
</code></pre>

<p>##2. set up Nginx on server##</p>

<p>####Step 1, connect to server:####</p>

<p>Set up a config file in your local <code>~/.ssh</code> folder:</p>

<pre><code>cd ~/.ssh
nano config
</code></pre>

<p>And make it look something like this:</p>

<pre><code>Host *
ServerAliveInterval 120

Host hakyll
    HostName your.ip.addr.ess
    User ec2-user
    IdentityFile ~/.ssh/your-pem-file.pem
</code></pre>

<p>Now, connecting to the server is simple:</p>

<pre><code>ssh hakyll
</code></pre>

<p>####Step 2, set up nginx:####</p>

<p>Install nginx on server:</p>

<pre><code>sudo yum update
sudo yum install nginx
sudo chown ec2-user /usr/share/nginx/html
</code></pre>

<p>##3. Set up Hakyll locally##</p>

<p>We&rsquo;ve done all the groundwork; the rest is easy!</p>

<p>Back on your local computer:</p>

<p>####Step 1:####</p>

<pre><code>git clone git@github.com:thunderrabbit/hakyll-journal.git journal
cd journal
ghc --make -threaded site.hs
./site rebuild
./site deploy
</code></pre>

<p>Finished!   Check out my journal on your server!  Feel free to wipe the sub-directories in ~/journal/post and write your own.  ;-)</p>

<p>After each change, you can update the site like this:</p>

<pre><code>./site rebuild
./site deploy
</code></pre>

                    </div>
                </section>
                
                <h1 class="content-subhead">29 Oct 2014, 00:00</h1>
                <section class="post">
                    <header class="post-header">

                        <a href="https://new.robnugen.com/journal/2014/10/29/first-rsync-of-hakyll-journal/" class="post-title">first rsync of hakyll journal</a>

                        <p class="post-meta">
                            
                                By <strong class="post-author">Rob Nugen</strong>
                            
                            
                        </p>
                    </header>

                    <div class="post-description">
                        <p>In my <code>~/.ssh/config</code> file</p>

<pre><code>Host hakyll
    HostName hakyll.robnugen.com
    User ec2-user
    IdentityFile ~/.ssh/thunderrabbitonAWS.pem
</code></pre>

<p>From local machine, login simply with <code>ssh hakyll</code></p>

<p>On the machine:</p>

<pre><code>sudo yum update
sudo yum install nginx
sudo chown ec2-user /usr/share/nginx/html
</code></pre>

<p>On local machine</p>

<pre><code>git clone git@github.com:thunderrabbit/hakyll-journal.git journal
cd journal
ghc --make -threaded site.hs
./site rebuild
./site deploy
</code></pre>

                    </div>
                </section>
                
                <h1 class="content-subhead">29 Oct 2014, 00:00</h1>
                <section class="post">
                    <header class="post-header">

                        <a href="https://new.robnugen.com/journal/2014/10/29/first-with-date/" class="post-title">First with date</a>

                        <p class="post-meta">
                            
                                By <strong class="post-author">Rob Nugen</strong>
                            
                            
                        </p>
                    </header>

                    <div class="post-description">
                        <p>##23:20 Wednesday 29 October 2014##</p>

<p>Been working on hakyll.robnugen.com all day, and it seems I have a
framework with which I may be happy for a while.  I&rsquo;ve essentially
finished the first three of the items from <a href="https://hakyll.robnugen.com/2014/10/28/Journal-plans/">Journal
Plans</a>, although
I&rsquo;ve just realized that while that link works, the link to that entry
from my index does not (due to capitalization).  Once I fix the index
link, this link won&rsquo;t work unless I remember.</p>

<p>I&rsquo;ve almost got <a href="https://raw.githubusercontent.com/Abizern/prelude/master/personal/hakyll.el">Abizern&rsquo;s hakyll.el</a> file adapted for use in this new framework.</p>

<p>But for now it&rsquo;s bedtime.</p>

                    </div>
                </section>
                
                <h1 class="content-subhead">29 Oct 2014, 00:00</h1>
                <section class="post">
                    <header class="post-header">

                        <a href="https://new.robnugen.com/journal/2014/10/29/learn-me-a-hakyll/" class="post-title">Learn me a hakyll</a>

                        <p class="post-meta">
                            
                                By <strong class="post-author">Rob Nugen</strong>
                            
                            
                        </p>
                    </header>

                    <div class="post-description">
                        <p>##12:38pm Wednesday 29 October 2014##</p>

<p>Here is what I started to write to Danny Su on his entry about <a href="https://dannysu.com/2013/03/20/hakyll-4/">using Hakyll 4</a>.</p>

<pre><code>Hi Danny

I have decided to take the plunge to a static site, and want my previous journal entries to be stored in yyyy/mm/dd folders as you have on your dannysu.github.com repo.   Have you written about your blogging process?

Given that almost every folder/file in dannysu.github.com repo is updated 
</code></pre>

<p>See the thing I can&rsquo;t grok is why nearly all the files in dannysu.github.com are updated each time the repo is updated.</p>

<p>But I can&rsquo;t formulate the question in a way I think would be easy to understand coming from some random guy online, so I&rsquo;ll hold it for now.</p>

<hr />

<p>##13:17##</p>

<p>There are several <a href="https://jaspervdj.be/hakyll/examples.html">sample blogs using Hakyll 4</a>.  Most of them just pile all the posts into the posts folder, but I want them organized in folders by date:  yyyy/mm/ddpostname (as my original journal) or yyyy/mm/dd/postname.</p>

<p>So, going through the list, I&rsquo;ve come across a few with that seem to have that quality, based on the URLs of the site:</p>

<p><a href="https://dannysu.com/">https://dannysu.com/</a>
<a href="https://www.skybluetrades.net/">https://www.skybluetrades.net/</a>
<a href="https://xinitrc.de/">https://xinitrc.de/</a>
<a href="https://abizern.org/">https://abizern.org/</a></p>

<p>I&rsquo;ve cloned the repos and will figure out which one is closest to what I&rsquo;m trying to do:</p>

<ol>
<li>have source files organized in yyyy/mm folders</li>
<li>have pagination</li>
<li>have a calendar to go back through entries</li>
<li>have tags</li>
</ol>

<p>brb</p>

<hr />

<p>##13:38##</p>

<p>Aha!  I understand Danny Su&rsquo;s process.  He writes entries in posts, and then has a <a href="https://github.com/dannysu/hakyll-blog/blob/23343c1d669e309f70f64ef4865962bd5fa7c6b1/Rakefile">Rakefile</a> which runs hakyll on the site and copies the files from _site to dannysu.github.com.</p>

<p>BUT, his file structure is now out of the running; he&rsquo;s got all his source files in one giant folder.</p>

<hr />

<p>abizern.org has a layout closest to what I like, but all source files are in one directory.</p>

<p>However, he&rsquo;s got an <a href="https://abizern.org/2014/01/05/hakyll-new-post-with-emacs/">emacs macro to create journal entries</a>!!</p>

<hr />

<p>xinitrc.de has all blog source files in one directory</p>

<hr />

<p>skybluetrades.net seems to be a winner!  The source files are in yyyy/mm/dd directories, and he&rsquo;s got photos embedded.</p>

<p><a href="https://www.skybluetrades.net/blog/posts/2011/10/10/whaleboat-island/index.html">https://www.skybluetrades.net/blog/posts/2011/10/10/whaleboat-island/index.html</a></p>

<p>Now, the big difference is he&rsquo;s got each entry in its own subfolder inside the date folders, like yyyy/mm/dd/entry-name/index.markdown</p>

<p>I can probably deal with that seamlessly once I have a macro to create journal entries either in emacs or Sublime.</p>

<p>##13:50##</p>

<p>Okay, so I&rsquo;m going to clone Ian&rsquo;s skybluetrades.net to see if I can make it work.  If so, I&rsquo;ll fork the repo.</p>

<hr />

<p>Hmm he&rsquo;s got a <a href="https://raw.githubusercontent.com/ian-ross/blog/dc92eb67542de14afdd97cce91a3c9784bb78957/build/LICENSE">LICENSE file</a>.</p>

<p>I guess it means I can use it so long as I do so respectfully.</p>

<p>I&rsquo;ll send him an email.</p>

<p>##14:59##</p>

<p>I started to compose an email, but decided not to; the email just sounded like whining cause after cloning the site, I was unable to get the site to build at all.</p>

<p>Instead, I went through the rest of the list and found what I think I can use without Licensing questions.</p>

<p><a href="https://hub.darcs.net/DarkFox/DarkFox-blog">https://hub.darcs.net/DarkFox/DarkFox-blog</a></p>

<p>It uses darcs instead of git.</p>

<p>##15:09##</p>

<pre><code>cabal update
cabal install darcs-2.8.5
darcs get --lazy https://hub.darcs.net/DarkFox/DarkFox-blog
cd DarkFox-blog
ghc --make -threaded site.hs
./site build
./site watch
</code></pre>

<p><a href="http://localhost:8000">http://localhost:8000</a></p>

<p>Hooray!  Hooray!  it works!</p>

<p>Okay, so I guess I need to learn me some darcs.</p>

                    </div>
                </section>
                
                <h1 class="content-subhead">29 Oct 2014, 00:00</h1>
                <section class="post">
                    <header class="post-header">

                        <a href="https://new.robnugen.com/journal/2014/10/29/learn-me-some-darcs/" class="post-title">Learn me some darcs</a>

                        <p class="post-meta">
                            
                                By <strong class="post-author">Rob Nugen</strong>
                            
                            
                        </p>
                    </header>

                    <div class="post-description">
                        <p>##15:40pm Wednesday 29 October 2014##</p>

<p>(Adapting from my previous entry)</p>

<pre><code>cabal update
cabal install darcs-2.8.5
darcs get --lazy thunderrabbit@hub.darcs.net:thunderrabbit/journal
cd journal
ghc --make -threaded site.hs
./site build
./site watch
</code></pre>

                    </div>
                </section>
                
            </div>
            
<div class="pagination">
  <nav role="pagination" class="post-list-pagination">
      
      <a href="/journal/page/247/" class="post-list-pagination-item pure-button post-list-pagination-item-prev">
        <i class="fa fa-angle-double-left"></i>&nbsp;Newer
      </a>
      
    <span class="post-list-pagination-item post-list-pagination-item-current">Page 248 of 707</span>
    
      <a href="/journal/page/249/" class="post-list-pagination-item pure-button post-list-pagination-item-next">
        Older&nbsp;<i class="fa fa-angle-double-right"></i>
      </a>
    
  </nav>
</div>


            <div class="footer">
    <div class="pure-menu pure-menu-horizontal pure-menu-open">
        <ul>
            <li>Powered by <a class="hugo" href="https://gohugo.io/" target="_blank">hugo</a></li>
        </ul>
    </div>
</div>
<script src='https://new.robnugen.com/js/all.min.js'></script>

        </div>
    </div>
</div>

<script>
(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
})(window,document,'script','//www.google-analytics.com/analytics.js','ga');

ga('create', '', 'auto');
ga('send', 'pageview');

</script>

</body>
</html>
